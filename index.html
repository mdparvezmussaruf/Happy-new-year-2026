<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy New Year 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b1026">

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{
  width:100%;
  height:100%;
  overflow:hidden;
  font-family:system-ui,-apple-system,"Segoe UI",sans-serif;
  color:#fff;
}

/* BACKGROUND IMAGE BLEND */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    linear-gradient(rgba(10,15,40,.6),rgba(10,15,40,.8)),
    url("bg-love.jpg") center/cover no-repeat;
  z-index:-3;
}

/* CANVAS */
canvas{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:0;
}

.screen{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:2;
  transition:opacity 1s ease;
}

.hidden{
  opacity:0;
  pointer-events:none;
}

.card{
  width:min(90vw,420px);
  padding:32px;
  background:rgba(255,255,255,.1);
  backdrop-filter:blur(14px);
  border-radius:18px;
  text-align:center;
}

.input-wrap{
  position:relative;
  margin-top:20px;
}

input{
  width:100%;
  padding:14px 46px 14px 14px;
  border-radius:12px;
  border:none;
  background:rgba(255,255,255,.15);
  color:#fff;
  font-size:1rem;
  outline:none;
}

.input-wrap button{
  position:absolute;
  right:6px;
  top:6px;
  width:34px;
  height:34px;
  border-radius:50%;
  border:1px solid #f5d37b;
  background:transparent;
  color:#f5d37b;
  cursor:pointer;
}

h1{
  font-size:clamp(2rem,5vw,3rem);
  color:#f5d37b;
}

.subtitle{
  margin-top:8px;
  font-size:1.3rem;
  opacity:.9;
}

#cta{
  margin-top:36px;
  padding:14px 28px;
  border-radius:40px;
  border:1px solid #f5d37b;
  background:transparent;
  color:#f5d37b;
  display:none;
  cursor:pointer;
}

.slide{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:30px;
  opacity:0;
  transition:opacity 1s ease;
}

.slide.active{opacity:1}

.quote{
  max-width:820px;
  padding:40px;
  background:rgba(255,255,255,.1);
  border-radius:20px;
  font-size:clamp(1.2rem,3.6vw,2rem);
  line-height:1.6;
  text-align:center;
}
</style>
</head>

<body>

<canvas id="fx"></canvas>

<audio id="bgm" src="soft_love_piano.wav" loop></audio>

<!-- PASSWORD -->
<div id="lock" class="screen">
  <div class="card">
    <h2>Enter the name written in my heart</h2>
    <div class="input-wrap">
      <input id="pass" type="text" autocomplete="off" placeholder="Type here…" />
      <button id="enterBtn">⏎</button>
    </div>
  </div>
</div>

<!-- CELEBRATION -->
<div id="celebrate" class="screen hidden">
  <div style="text-align:center">
    <h1>Happy New Year</h1>
    <div class="subtitle">My Beloved Wife</div>
    <div class="subtitle">2026</div>
    <button id="cta">New Year Wishes</button>
  </div>
</div>

<!-- SLIDES -->
<div id="slides" class="screen hidden"></div>

<script>
/* ===== CANVAS SETUP ===== */
const canvas = document.getElementById("fx");
const ctx = canvas.getContext("2d");
let W,H;

function resize(){
  W = canvas.width = innerWidth;
  H = canvas.height = innerHeight;
}
addEventListener("resize", resize);
resize();

/* ===== NAME WRITTEN WITH FALLING SNOW ===== */
let nameSnow = [];

function createSnowText(text){
  const off = document.createElement("canvas");
  off.width = W;
  off.height = H;
  const o = off.getContext("2d");

  o.font = "bold 64px serif";
  o.textAlign = "center";
  o.fillStyle = "#fff";
  o.fillText(text, W/2, H*0.35);

  const img = o.getImageData(0,0,W,H).data;
  nameSnow = [];

  for(let i=0;i<img.length;i+=4){
    if(img[i+3]>0 && Math.random()<0.03){
      const x=(i/4)%W;
      const y=Math.floor((i/4)/W);
      nameSnow.push({x,y,fall:H+Math.random()*200});
    }
  }
}

/* ===== MIXED SNOW ===== */
const snow=[];
const SNOW_COUNT=60;

function newSnow(){
  const t=Math.random();
  return{
    x:Math.random()*W,
    y:Math.random()*H,
    r:2+Math.random()*3,
    s:0.3+Math.random()*0.6,
    d:(Math.random()-.5)*0.3,
    type:t<0.33?"heart":t<0.66?"flake":"dot"
  };
}
for(let i=0;i<SNOW_COUNT;i++) snow.push(newSnow());

function drawHeart(x,y,r){
  ctx.beginPath();
  ctx.moveTo(x,y);
  ctx.bezierCurveTo(x-r,y-r,x-r*1.4,y+r/3,x,y+r);
  ctx.bezierCurveTo(x+r*1.4,y+r/3,x+r,y-r,x,y);
  ctx.fill();
}

/* ===== LOOP ===== */
function animate(){
  ctx.clearRect(0,0,W,H);

  snow.forEach(s=>{
    ctx.save();
    ctx.translate(s.x,s.y);
    if(s.type==="heart"){
      ctx.fillStyle="rgba(255,190,210,.7)";
      drawHeart(0,0,s.r);
    }else{
      ctx.fillStyle="rgba(255,255,255,.8)";
      ctx.beginPath();
      ctx.arc(0,0,s.r,0,Math.PI*2);
      ctx.fill();
    }
    ctx.restore();
    s.y+=s.s; s.x+=s.d;
    if(s.y>H) Object.assign(s,newSnow(),{y:-10});
  });

  nameSnow.forEach(p=>{
    if(p.fall>p.y){
      ctx.fillStyle="rgba(255,255,255,.95)";
      ctx.beginPath();
      ctx.arc(p.x,p.fall,2,0,Math.PI*2);
      ctx.fill();
      p.fall-=1.4;
    }
  });

  requestAnimationFrame(animate);
}
animate();

/* ===== UNLOCK ===== */
const pass=document.getElementById("pass");
const enterBtn=document.getElementById("enterBtn");
const lock=document.getElementById("lock");
const celebrate=document.getElementById("celebrate");
const cta=document.getElementById("cta");

function unlock(){
  if(pass.value.trim().toLowerCase()==="farhana akter rova"){
    lock.classList.add("hidden");
    celebrate.classList.remove("hidden");
    document.getElementById("bgm").volume=0.22;
    document.getElementById("bgm").play().catch(()=>{});
    createSnowText("Farhana Akter Rova");
    setTimeout(()=>cta.style.display="inline-block",8000);
  }
}
enterBtn.onclick=unlock;
pass.addEventListener("keydown",e=>e.key==="Enter"&&unlock());

/* ===== QUOTES ===== */
const quotes=[
"You are stronger than every doubt you face.",
"Your efforts today are shaping a beautiful future.",
"You are deeply loved and never alone.",
"Every struggle is proof of your courage.",
"You are becoming everything you dreamed of."
];

cta.onclick=()=>{
  celebrate.classList.add("hidden");
  slides.classList.remove("hidden");
  quotes.sort(()=>Math.random()-.5);
  quotes.forEach((q,i)=>{
    const d=document.createElement("div");
    d.className="slide"+(i===0?" active":"");
    d.innerHTML=`<div class="quote">${q}</div>`;
    slides.appendChild(d);
  });
  let i=0;
  setInterval(()=>{
    const s=document.querySelectorAll(".slide");
    s[i].classList.remove("active");
    i=(i+1)%s.length;
    s[i].classList.add("active");
  },5000);
};

/* ===== PWA ===== */
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
